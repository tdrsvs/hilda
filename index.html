<html dir="rtl" lang="ar">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   ديار المعجبين - هيلدا الشجاعة
  </title>
  <script src="https://cdn.tailwindcss.com">
  </script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Cairo&amp;display=swap" rel="stylesheet"/>
  <style>
   body {
      font-family: 'Cairo', sans-serif;
      background-color: #121212;
      color: white;
    }
    /* Scrollbar for comments */
    #anonComment_list {
      max-height: 300px;
      overflow-y: auto;
    }
    /* Spoiler cursor pointer */
    .spoiler-warning {
      cursor: pointer;
    }
    /* Hide scrollbar for webkit browsers */
    #anonComment_list::-webkit-scrollbar {
      width: 6px;
    }
    #anonComment_list::-webkit-scrollbar-thumb {
      background-color: #ff6f61;
      border-radius: 3px;
    }
    /* Hide scrollbar for Firefox */
    #anonComment_list {
      scrollbar-width: thin;
      scrollbar-color: #ff6f61 transparent;
    }
    /* Seasons slider */
    .season-slider {
      -webkit-overflow-scrolling: touch;
      scroll-snap-type: x mandatory;
      overflow-x: auto;
      display: flex;
      gap: 0.75rem;
      padding-bottom: 0.5rem;
    }
    .season-slider > button {
      scroll-snap-align: start;
      flex: 0 0 auto;
    }
    /* Focus outline for spoiler */
    .spoiler-warning:focus {
      outline: 2px solid #ff6f61;
      outline-offset: 2px;
    }
  </style>
 </head>
 <body class="min-h-screen flex flex-col">
  <!-- Header with menu icon, back icon, and social icons -->
  <header class="flex items-center justify-between px-4 py-3 border-b border-gray-700 bg-gray-900 sticky top-0 z-40">
   <div class="flex items-center space-x-3 rtl:space-x-reverse">
    <button aria-label="فتح القائمة" class="text-gray-300 hover:text-orange-500 text-2xl focus:outline-none" id="menuBtn" type="button">
     <i class="fas fa-bars">
     </i>
    </button>
    <button aria-label="العودة" class="" id="backBtn" type="">
     <i class="fas fa-">
     </i>
    </button>
   </div>
   <h1 class="text-white font-semibold text-lg truncate max-w-xs text-center">
     ديار المُعجبين
   </h1>
<div class="flex space-x-3 rtl:space-x-reverse">
    <a aria-label="Arrow Right" class="text-gray-300 hover:text-white text-xl" href="https://fhtoon.com">
    <i class="fas fa-arrow-right"></i>
  </a>
  <a aria-label="Instagram" class="text-gray-300 hover:text-pink-500 text-xl" href="https://www.instagram.com/tha_fans_home/" rel="noopener" target="_blank">
    <i class="fab fa-instagram"></i>
  </a>
  <a aria-label="Telegram" class="text-gray-300 hover:text-blue-400 text-xl" href="https://t.me/fans_home" rel="noopener" target="_blank">
    <i class="fab fa-telegram-plane"></i>
  </a>
</div>
  </header>
  <!-- Hidden side menu -->
  <aside aria-label="القائمة الجانبية" class="fixed inset-y-0 right-0 w-64 bg-gray-900 shadow-lg transform translate-x-full transition-transform duration-300 z-50" id="sideMenu" role="dialog" aria-modal="true" aria-hidden="true">
   <div class="flex flex-col h-full p-5">
    <button aria-label="إغلاق القائمة" class="self-start text-orange-500 text-2xl mb-6 focus:outline-none" id="closeMenuBtn" type="button">
     <i class="fas fa-times">
     </i>
    </button>
    <nav class="flex flex-col space-y-4 text-right text-gray-300 text-base font-semibold">
 <!-- سياسة الخصوصية -->
<button class="hover:text-orange-500 flex flex-row-reverse items-center justify-end gap-2 w-full text-right" onclick="openPage('privacy'); closeSideMenu()" type="button">
  سياسة الخصوصية
  <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path d="M12 2L4 5v6c0 5.25 3.25 10.25 8 12 4.75-1.75 8-6.75 8-12V5l-8-3z"/>
  </svg>
</button>

<!-- الشروط والأحكام -->
<button class="hover:text-orange-500 flex flex-row-reverse items-center justify-end gap-2 w-full text-right" onclick="openPage('terms'); closeSideMenu()" type="button">
  الشروط والأحكام
  <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path d="M9 12h6M9 16h6M12 8h.01M5 4h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V6a2 2 0 012-2z"/>
  </svg>
</button>

<!-- الأسئلة الشائعة -->
<button class="hover:text-orange-500 flex flex-row-reverse items-center justify-end gap-2 w-full text-right" onclick="openPage('kids'); closeSideMenu()" type="button">
  الأسئلة الشائعة
  <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path d="M12 18h.01M12 14a4 4 0 10-4-4h.01a4 4 0 104 4z"/>
  </svg>
</button>
 <button class="hover:text-orange-500 flex flex-row-reverse items-center justify-end gap-2 w-full text-right" onclick="openPage('paid'); closeSideMenu()" type="button">
  تحميل حلقات المسلسل
 <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2M7 10l5 5m0 0l5-5m-5 5V4" />
</svg>
</button>
    </nav>
   </div>
  </aside>
  <!-- Overlay for side menu -->
  <div aria-hidden="true" class="fixed inset-0 bg-black bg-opacity-50 hidden z-40" id="menuOverlay"></div>
  <!-- Main content container -->
  <main class="flex-grow px-4 py-3 max-w-4xl mx-auto w-full">
  <div class="w-full aspect-video bg-black rounded-md overflow-hidden shadow-lg block md:hidden">
  <img 
    src="https://s01.babup.com/uploads/AAAABYJ-BRd2wJms-KiMK9TUMmrzCiLzx-AtM-wreT2lGYUFdUt6Jii4WrdVzYLRSsi2XlSLLXOL5nQdCd7pnVKridDOrkKEI9BwjXQa.jpg" 
    alt="" 
    class="w-full h-full object-cover"
  />
</div>
   <!-- Video Player Section -->
   <section>

    <h1 class="mt-3 text-lg md:text-2xl font-semibold truncate">
    هيلدا الشجاعة | +9
    </h1>
   
    <p class="text-gray-400 text-sm mt-1">
      
                    تكتشف هيلدا الجريئة والمفعمة بالحيويّة صداقات جديدة ومغامرات ومخلوقات سحريّة عندما تُغادر منزلها الساحر في الغابة مُتّجهة نحو المدينة                
        
    </p>
   </section>
   <!-- Seasons slider -->
   <section class="mt-6">
    <h2 class="text-white text-xl font-semibold mb-2">
     المواسم
    </h2>
    <div class="season-slider" id="seasonsSlider" tabindex="0" aria-label="شريط تمرير المواسم">
     <!-- Seasons buttons inserted by JS -->
    </div>
    <!-- Episodes list for selected season -->
    <ul class="mt-4 space-y-3" id="episodesList" role="list" aria-label="قائمة الحلقات">
     <!-- Episodes inserted by JS -->
    </ul>
   </section>
   <!-- Comments Section -->
<section class="comments-section mt-10">
  <h3 class="text-xl font-semibold mb-3">التعليقات</h3>
  <div class="mb-4">
    <textarea aria-label="اكتب تعليقك هنا" class="w-full p-3 rounded-md bg-gray-800 text-white resize-none h-24 focus:outline-none focus:ring-2 focus:ring-orange-500" id="anonComment_input" placeholder=" اكتب تعليقك هنا..."></textarea>
    <div class="mt-3" id="anonComment_country_container">
      <label class="block mb-1 text-gray-300" for="anonComment_country">من أي دولة أنت؟</label>
      <select aria-label="اختر دولتك" class="w-full p-2 rounded-md bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-orange-500" id="anonComment_country">
        <option value="السعودية">السعودية</option>
        <option value="مصر">مصر</option>
        <option value="الجزائر">الجزائر</option>
        <option value="العراق">العراق</option>
        <option value="سوريا">سوريا</option>
        <option value="المغرب">المغرب</option>
        <option value="الأردن">الأردن</option>
        <option value="تونس">تونس</option>
        <option value="الإمارات">الإمارات</option>
        <option value="اليمن">اليمن</option>
        <option value="لبنان">لبنان</option>
        <option value="فلسطين">فلسطين</option>
        <option value="الكويت">الكويت</option>
        <option value="عمان">عمان</option>
        <option value="البحرين">البحرين</option>
        <option value="قطر">قطر</option>
        <option value="موريتانيا">موريتانيا</option>
        <option value="السودان">السودان</option>
        <option value="الصومال">الصومال</option>
        <option value="جيبوتي">جيبوتي</option>
        <option value="جزر القمر">جزر القمر</option>
        <option value="ليبيا">ليبيا</option>
      </select>
    </div>
    <div class="flex items-center mt-3 space-x-3 rtl:space-x-reverse">
      <input class="w-4 h-4" id="anonComment_spoiler" type="checkbox"/>
      <label class="text-gray-300 whitespace-nowrap" for="anonComment_spoiler">هل التعليق يحتوي على حرق لإحداث الكرتون؟</label>
    </div>
    <button class="mt-4 w-full bg-orange-500 hover:bg-orange-600 transition-colors rounded-md py-2 font-semibold text-white" onclick="anonComment_submit()">نشر التعليق</button>
  </div>
  <ul class="space-y-4" id="anonComment_list">
  </ul>
</section>

<script>
  // معرف المستخدم الحالي (قم بتعديله حسب طريقة تحديد المستخدم عندك)
  const currentUserId = '123'; // مثال فقط، استبدله بالمعرف الفعلي للمستخدم

  function sortComments(comments, userId) {
    let sorted = [...comments];

    // ترتيب تنازلي حسب عدد اللايكات
    sorted.sort((a, b) => {
      return parseInt(b.dataset.likes) - parseInt(a.dataset.likes);
    });

    const userIndex = sorted.findIndex(comment => comment.dataset.authorId === userId);

    if (userIndex !== -1 && sorted.length > 1) {
      const userComment = sorted.splice(userIndex, 1)[0];
      // إذا لم يكن تعليقه هو الأعلى، اجعله في المرتبة الثانية
      const topComment = sorted[0];
      if (topComment.dataset.authorId !== userId) {
        sorted.splice(1, 0, userComment);
      } else {
        // تعليقه هو الأعلى، نعيده إلى الأعلى
        sorted.unshift(userComment);
      }
    }

    return sorted;
  }

  function renderComments() {
    const list = document.getElementById('anonComment_list');
    const comments = Array.from(list.children);
    const sorted = sortComments(comments, currentUserId);
    list.innerHTML = '';
    sorted.forEach(comment => list.appendChild(comment));
  }

  // نفذ عند تحميل الصفحة
  window.addEventListener('DOMContentLoaded', renderComments);

  // يمكنك أيضًا استدعاء renderComments() بعد إضافة تعليق جديد
</script>
  </main>
  <!-- Privacy Policy, Terms, Kids, Paid Sections (hidden by default) -->
 <section aria-label="سياسة الخصوصية" class="fixed inset-0 bg-gray-900 bg-opacity-95 p-5 overflow-y-auto hidden z-40 text-right" dir="rtl" id="privacy" lang="ar">
   <button class="text-orange-500 mb-4 text-lg font-semibold" onclick="closePage('privacy')">
    <i class="fas fa-arrow-right ml-2"></i>
    العودة
   </button>
   <h2 class="text-2xl font-bold mb-4">سياسة الخصوصية</h2>
   <p class="mb-3 leading-relaxed">
     
خصوصيتك مهمة بالنسبة لنا في "ديار المعجبين"، ونحن ملتزمون بحماية أي معلومات قد يتم جمعها أثناء استخدامك لموقعنا. عند تصفحك لموقعنا، قد يتم جمع بعض البيانات العامة مثل عنوان IP، نوع المتصفح، الجهاز المستخدم، والصفحات التي يتم زيارتها. يتم جمع هذه البيانات لأغراض تحليلية فقط بهدف تحسين تجربة المستخدم وتطوير الموقع، ولا يتم استخدامها لأي أغراض تجارية أو تسويقية أو مشاركتها مع أي جهات خارجية. لا يقوم موقعنا بجمع أي بيانات شخصية حساسة مثل الأسماء أو عناوين البريد الإلكتروني أو أرقام الهواتف، حيث لا يتطلب الموقع تسجيل حسابات أو إدخال أي بيانات شخصية من قبل المستخدمين. يعتمد الموقع على ملفات تعريف الارتباط لتحسين الأداء وتوفير تجربة استخدام سلسة، حيث تساعد هذه الملفات في تحسين سرعة التحميل، حفظ بعض الإعدادات المؤقتة، وجمع بيانات إحصائية عن كيفية استخدام الموقع. يمكن للمستخدمين تعطيل ملفات تعريف الارتباط من خلال إعدادات المتصفح، لكن هذا قد يؤثر على بعض ميزات الموقع. نلتزم بحماية أي بيانات يتم جمعها من خلال تدابير أمنية مناسبة، ومع ذلك فإن أي عملية نقل بيانات عبر الإنترنت لا يمكن أن تكون آمنة بالكامل، ولذلك ننصح المستخدمين بعدم مشاركة أي بيانات حساسة أثناء تصفح الموقع. لا يتحمل الموقع أي مسؤولية عن الروابط الخارجية التي قد يتم إدراجها، حيث قد تؤدي هذه الروابط إلى مواقع خارجية لها سياسات خصوصية مختلفة تمامًا، لذا نشجع المستخدمين على مراجعة سياسات الخصوصية لهذه المواقع قبل التفاعل معها. نحن نحتفظ بالحق في تعديل أو تحديث سياسة الخصوصية هذه في أي وقت وفقًا لاحتياجات الموقع، وسيتم نشر أي تغييرات هنا فور تنفيذها، ويعني استمرارك في استخدام الموقع بعد التعديلات موافقتك على السياسة الجديدة. إذا كان لديك أي استفسارات حول سياسة الخصوصية، يمكنك التواصل معنا عبر مركز خدمة العملاء من خيار الإعدادات المتواجد في جميع صفحات موقعنا ديار المعجبين
   </p>
   <p class="mb-3 leading-relaxed">
    يتم استخدام ملفات تعريف الارتباط لتحليل الاستخدام وتحسين الأداء. يمكنك تعطيل ملفات تعريف الارتباط من إعدادات المتصفح الخاص بك، ولكن قد يؤثر ذلك على بعض وظائف التطبيق.
   </p>
   <p class="mb-3 leading-relaxed">
    إذا كان لديك أي أسئلة حول سياسة الخصوصية، يرجى التواصل معنا عبر البريد الإلكتروني thehomefans@gmail.com
   </p>
  </section>
  <section aria-label="الشروط والأحكام" class="fixed inset-0 bg-gray-900 bg-opacity-95 p-5 overflow-y-auto hidden z-40 text-right" dir="rtl" id="terms" lang="ar">
   <button class="text-orange-500 mb-4 text-lg font-semibold" onclick="closePage('terms')">
    <i class="fas fa-arrow-right ml-2"></i>
    العودة
   </button>
   <h2 class="text-2xl font-bold mb-4">الشروط والأحكام</h2>
   <p class="mb-3 leading-relaxed">
    
أهلاً بك في "ديار المعجبين"، نحن سعداء بأنك اخترت استخدام موقعنا لمتابعة المحتوى الذي نقدمه من الكرتون. باستخدامك لهذا الموقع، فإنك توافق على الالتزام بالشروط والأحكام التي سنعرضها في هذه الصفحة. إذا كنت لا توافق على أي جزء من هذه الشروط، نرجو منك عدم استخدام الموقع. نحن نقدم لك في "ديار المعجبين" محتوى مجاني من الكرتون ويمكنك مشاهدته مباشرة من خلال روابط خارجية، ولا يتطلب الموقع منك تسجيل الدخول أو إنشاء حساب. نحن لا نجمع أي بيانات شخصية منك، ولا نطلب منك تقديم أي معلومات حساسة. الموقع متاح لك لمشاهدته والاستمتاع به فقط. على الرغم من أننا نعمل جاهدين لضمان تقديم محتوى بجودة عالية وخالي من الأخطاء التقنية، إلا أننا لا نتحمل أي مسؤولية عن أي مشاكل قد تحدث أثناء استخدامك للموقع، مثل الأخطاء أو الانقطاعات في عرض المحتوى. نحن نبذل قصارى جهدنا لضمان تجربة مشاهدة سلسة، ولكن لا يمكننا ضمان أن الخدمة ستكون متوفرة دائمًا أو خالية من المشكلات. في حالة حدوث أي مشاكل، نرحب بتواصلك معنا وسوف نبذل كل جهدنا لإصلاحها. نحتفظ بالحق في تعديل أو تحديث محتوى الموقع أو هذه الشروط والأحكام في أي وقت، وذلك وفقًا لاحتياجاتنا أو أي تغييرات قد تطرأ على الموقع. سيتم نشر أي تعديلات هنا، ويعتبر استمرارك في استخدام الموقع بعد إجراء أي تغييرات موافقة منك على الشروط المعدلة. قد يحتوي الموقع على روابط لمواقع أخرى قد تكون خارج نطاق مسؤوليتنا. نحن لا نتحمل أي مسؤولية عن محتوى تلك المواقع أو عن أي مشكلة قد تنشأ نتيجة للتفاعل مع هذه الروابط. نوصي دائمًا بمراجعة سياسات الخصوصية والشروط الخاصة بالمواقع الخارجية قبل التفاعل معها. قد نستخدم ملفات تعريف الارتباط لتحسين تجربتك أثناء تصفح الموقع. ملفات تعريف الارتباط هي ملفات صغيرة يتم تخزينها على جهازك وتساعد في تحسين سرعة الموقع وحفظ بعض الإعدادات. يمكنك تعطيل ملفات تعريف الارتباط من خلال إعدادات متصفحك إذا أردت، لكن يجب أن تكون على علم أن ذلك قد يؤثر على بعض الميزات في الموقع. على الرغم من أننا نتخذ تدابير أمنية لحماية البيانات، إلا أن الإنترنت ليس وسيلة آمنة تمامًا، ولا يمكننا ضمان الأمان الكامل لأي من البيانات أو المعلومات التي يتم إرسالها عبر الإنترنت. لذا ننصحك بعدم مشاركة أي بيانات حساسة أثناء تصفح الموقع. نحن لا نجمع أو نطلب أي بيانات شخصية من المستخدمين الذين تقل أعمارهم عن 13 عامًا. إذا كنت تحت سن 13 عامًا، نرجو منك عدم استخدام الموقع أو تقديم أي معلومات شخصية عبره. إذا اكتشفنا أن شخصًا تحت سن 13 عامًا قد قدم معلومات شخصية، سنتخذ الإجراءات اللازمة لحذف تلك المعلومات. بموجب استخدامك لهذا الموقع، فإنك تقر بأن عمرك لا يقل عن 13 عامًا. إذا كنت تحت سن 13 عامًا، يجب عليك الامتناع عن استخدام الموقع. نحن لا نسمح للأطفال الذين تقل أعمارهم عن 13 عامًا باستخدام الموقع أو تقديم معلومات شخصية. في حال اكتشافنا أن مستخدمًا يقل عمره عن 13 عامًا قد استخدم الموقع أو قدم بيانات شخصية، سنقوم باتخاذ الإجراءات اللازمة لإزالة تلك البيانات. من خلال استخدامك لهذا الموقع، فإنك تؤكد موافقتك على هذه الشروط والأحكام. إذا كنت لا توافق على أي جزء من هذه الشروط، فإننا نطلب منك الامتناع عن استخدام الموقع
   </p>
   <p class="mb-3 leading-relaxed">
    نحن لا نتحمل أي مسؤولية عن المحتوى الذي يتم تحميله أو مشاركته من قبل المستخدمين. جميع الحقوق محفوظة للمالكين الأصليين للمحتوى.
   </p>
   <p class="mb-3 leading-relaxed">
    نحتفظ بالحق في تعديل هذه الشروط في أي وقت دون إشعار مسبق. يرجى مراجعة هذه الصفحة بانتظام.
   </p>
  </section>
  <section aria-label="الاسئلة الشائعة" class="fixed inset-0 bg-gray-900 bg-opacity-95 p-5 overflow-y-auto hidden z-40 text-right" dir="rtl" id="kids" lang="ar">
   <button class="text-orange-500 mb-4 text-lg font-semibold" onclick="closePage('kids')">
    <i class="fas fa-arrow-right ml-2"></i>
    العودة
   </button>
   <h2 class="text-2xl font-bold mb-4">الأسئلة الشائعة</h2>
   <p class="mb-3 leading-relaxed">
   1 الحلقات والافلام والعروض لا تعمل ما السبب؟
   </p>
   <ul class="list-disc list-inside space-y-2">
    <li>
قد تواجه بعض البلدان قيودًا على تشغيل الحلقات مباشرة، حيث قد يتطلب الأمر استخدام ڤي بي إن لتجاوز هذه القيود. إذا لم تعمل الحلقة لديك، فجرّب تشغيلها عبر ڤي بي إن، خاصة في بعض الدول مثل السعودية، الإمارات، ومصر، حيث قد تكون هناك قيود على المحتوى. نحن نعمل دائمًا على توفير أفضل تجربة مشاهدة ممكنة، بلا إعلانات أو تعقيدات، ل
ضمان استمتاعك بالمحتوى بكل سهولة</li>
  
  
     <p class="mb-3 leading-relaxed">
  2 لم اعثر على الكرتون الذي ارغب به لِما؟
   </p>
    <li>إذا لم تجد الكرتون الذي تبحث عنه فلا داعي للقلق يمكنك بكل سهولة التواصل معنا من خلال مركز خدمة العملاء وذلك عبر خيار الإعدادات في الصفحة الرئيسية حيث يمكنك اختيار إحدى طرق التواصل المتاحة مثل إنستغرام أو تيليجرام نحن هنا دائمًا لنلبي طلباتك ونعمل باستمرار على إضافة المزيد من الكرتونات التي تحظى بإجماع واهتمام الكثير من المشاهدين لأن هدفنا هو أن نقدم لك تجربة مشاهدة متميزة ومتكاملة تلبي جميع تطلعاتك</li>
  
     <p class="mb-3 leading-relaxed">
    3 هل تحميل الحلقات مدفوع وليس مجاني؟
   </p>
   
   
    <li> تحميل الحلقات ليس خدمة مدفوعة بشكل كامل، حيث نحرص على توفير تجربة مرنة ومتاحة للجميع. لذلك، يمكنكم طلب تحميل بعض الحلقات مجانًا دون الحاجة إلى الدفع. هذه الميزة متوفرة بهدف منح المستخدمين حرية أكبر في الوصول إلى المحتوى دون التقيد بالاشتراك أو الدفع المستمر، مما يعكس التزامنا بتقديم خدمات تناسب مختلف الاحتياجات.
    </li>
  
   </ul>
 
  </section>
  <section aria-label="تحميل حلقات المسلسل" class="fixed inset-0 bg-gray-900 bg-opacity-95 p-5 overflow-y-auto hidden z-40 text-right" dir="rtl" id="paid" lang="ar">
   <button class="text-orange-500 mb-4 text-lg font-semibold" onclick="closePage('paid')">
    <i class="fas fa-arrow-right ml-2">
    </i>
    العودة
   </button>
   <p class="mb-3 leading-relaxed">
  جميع الحلقات التي لا تظهر في القائمة أدناه تتوفر للتحميل بشكل مدفوع، في حين أن الحلقات المذكورة متاحة للتحميل المجاني
   </p>
   <ul class="list-disc list-inside space-y-2">
        <h2 class="text-2xl font-bold mb-4">
    الحلقات المجانية للتحميل:
   </h2>
    <li>
   الموسم الاول الحلقة 1 فقط 
    </li>
    <li>
     الموسم الثاني الحلقة 3 فقط
    </li>


       <p class="mb-3 leading-relaxed"> !
    الحلقات التي لم يتم ذكرها يتطلب تحميلها الدفع $
   </p>
   </ul>
 
  </section>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js">
  </script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js">
  </script>
  <script>
   // Firebase config and initialization
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyC0TX35KdrVWzAnFNfpcUwA0zS3OiA0aCQ",
  authDomain: "regular-show-79b74.firebaseapp.com",
  projectId: "regular-show-79b74",
  storageBucket: "regular-show-79b74.firebasestorage.app",
  messagingSenderId: "821342810030",
  appId: "1:821342810030:web:83366580fd8cb9b420623f",
  measurementId: "G-KXJ5TYW6KX"
};
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
    const episodeKey = "hilda";

    // Open and close pages (privacy, terms, kids, paid)
    function openPage(id) {
      document.getElementById(id).classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }
    function closePage(id) {
      document.getElementById(id).classList.add('hidden');
      document.body.style.overflow = 'auto';
    }

    // Side menu open/close
    const menuBtn = document.getElementById('menuBtn');
    const closeMenuBtn = document.getElementById('closeMenuBtn');
    const sideMenu = document.getElementById('sideMenu');
    const menuOverlay = document.getElementById('menuOverlay');

    function openSideMenu() {
      sideMenu.classList.remove('translate-x-full');
      sideMenu.setAttribute('aria-hidden', 'false');
      menuOverlay.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
      closeMenuBtn.focus();
    }
    function closeSideMenu() {
      sideMenu.classList.add('translate-x-full');
      sideMenu.setAttribute('aria-hidden', 'true');
      menuOverlay.classList.add('hidden');
      document.body.style.overflow = 'auto';
      menuBtn.focus();
    }

    menuBtn.addEventListener('click', openSideMenu);
    closeMenuBtn.addEventListener('click', closeSideMenu);
    menuOverlay.addEventListener('click', closeSideMenu);

    // Close side menu on Escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && !sideMenu.classList.contains('translate-x-full')) {
        closeSideMenu();
      }
    });

    // Back button functionality
    const backBtn = document.getElementById('backBtn');
    backBtn.addEventListener('click', () => {
      if (window.history.length > 1) {
        window.history.back();
      } else {
        // If no history, maybe close modal or do nothing
        alert('');
      }
    });

    // Seasons and episodes data (example)
    const seasonsData = [
      {
        seasonNumber: 1,
        episodes: [
          
          { id: "s1e1", title: "الحلقة 1 الشعب المخفي", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/ah-s1e1-fans-home-fans_home-Cm7LEMHcFN_jlB0jV" },
{ id: "s1e2", title: "الحلقة 2 عملاق منتصف الليل", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/ah-s01e02-fans-home-fans_home-8gS8TNqroq$vofigz" },
{ id: "s1e3", title: "الحلقة 3 موكب الطيور", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/ah-s01e03-fans-home-fans_home-A4RAnlXarwL_3aUQn" },
{ id: "s1e4", title: "الحلقة 4 الكشّافة", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/ah-s01e04-fans-home-piLYXaqcjNW.9IYXv" },
{ id: "s1e5", title: "الحلقة 5 الترول الصخري", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/ah-s01e05-fans-home-Kh5mQfGWgK9Co3g8." },
{ id: "s1e6", title: "الحلقة 6 شبح الكوابيس", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/ah-s01e06-fans-home-cW0B!rZkpmuFu5AKo" },
{ id: "s1e7", title: "الحلقة 7 القبيلة المفقودة", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/ah-s01e07-fans-home-Xq7mpAdXNxxz$ONbJ" },
{ id: "s1e8", title: "الحلقة 8 الفئران السحرية", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/ah-s01e08-fans-home-kDrveBmp!SdGGwSxz" },
{ id: "s1e9", title: "الحلقة 9 الشبح", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/ah-s01e09-fans-home-K6q2Nfk_iPr9RLdsS" },
{ id: "s1e10", title: "الحلقة 10 العاصفة", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/ah-s01e10-fans-home-aJikJocvDr2n5rmT_" },
{ id: "s1e11", title: "الحلقة 11 منزل منتصف الغابة", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/ah-s01e11-fans-home-ZVD.pKRqKTvtV08fX" },
{ id: "s1e12", title: "الحلقة 12 ارواح الناس", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/ah-s01e12-fans-home-xJUL4CG.3gaURJVyZ" },
{ id: "s1e13", title: "الحلقة 13 الكلب العملاق الأسود", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/ah-s01e13-ls1-fans-home-tIbtWZSY.EAwYI3C2" },
        ]
      },
      {
        seasonNumber: 2 ,
        episodes: [

          { id: "s1e1", title: "الحلقة 1 تجمع الترولز", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/ah-s02e01-fans-home-1DR!hNUJ766uyVtmO" },
{ id: "s1e2", title: "الحلقة 2 الدراوغين", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/ah-s02e02-fans-home-l0JZYNjxLpoZ!vpe1" },
{ id: "s1e3", title: "الحلقة 3 الساحرة", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/ah-s02e03-i-fans-home-pCxHrJitVcq_87gH9" },
{ id: "s1e4", title: "الحلقة 4 المحاربون الأبديون ", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/ah-s02e04-i-fans-home-0Jl5TGkJo0aDI_2fI" },
{ id: "s1e5", title: "الحلقة 5 الطاحونة", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/ah-s2e5-mp4-fans-home-534VvAiIfhZZ9Jf.J" },
{ id: "s1e6", title: "الحلقة 6 اجراس ترول بيرغ القديمة", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/ah-s02e06-fans-home-cJHV_bYMkN4Etksb9" },
{ id: "s1e7", title: "الحلقة 7 وحش جزيرة كولدرون", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/ah-s2e7-fans-home-Xc_IjgkYj8h3PZkfo" },
{ id: "s1e8", title: "الحلقة 8 ليلى الذكرى السنوية  ", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/ah-s2e8-fans-home-mva5ipXLa!wOCOhiO" },
{ id: "s1e9", title: "الحلقة 9 الثعلب الغزالي", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/ah-s2e9-fans-home-2GgwXMxFLvj_bDFG0" },
{ id: "s1e10", title: "الحلقة 10 فتيان اليول", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/ah-s2e10-fans-home-ioGy9D0A9VY28M.9h" },
{ id: "s1e11", title: "الحلقة 11 حادث جورتس", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/ah-s2e11-fans-home-Vu8B2z!SLH13w0iCn" },
{ id: "s1e12", title: "الحلقة 12 البديل", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/ah-s02e12-fans-home-6z075KN.dzlEH05xD" },
{ id: "s1e13", title: "الحلقة 13 غابة الحجارة", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/s2e13ends2-fans-home-qq9PdEWWw.YU0DXk9" },


{ id: "s1e13", title: "حلقة خاصة هيلدا وملك الجبل", duration: "مترجمة", link: "https://videa.hu/videok/film-animacio/hilda-se-fans-home-MgffgYyX.X4sjXgSv" },
        ]
      },

      {
        seasonNumber: 3 ,
        episodes: [
       
          { id: "s1e1", title: "الحلقة 1 قطار الى توفوتين", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/s3e1-ah-fans-home-1oudfOrAsFLD3$ZOY" },
{ id: "s1e2", title: "الحلقة 2 تل الجنيات", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/s3e2-ah-fans-home-Gx7pAOwMznwn9Y9!h" },
{ id: "s1e3", title: "الحلقة 3 قاتل العمالقة", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/s3e3-ah-fans-home-u!5GwfP38OjgOJWsL" },
{ id: "s1e4", title: "الحلقة 4 عريس البحر الضاحك", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/s3e4-ah-fans-home-tGQJRlrq!lEw3ceUK" },
{ id: "s1e5", title: "الحلقة 5 المهمة الصخري", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/s3e5-ah-fans-home-9p!ULJ16hqZpSmu65" },
{ id: "s1e6", title: "الحلقة 6 البحيرة المنسية ", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/s3e6-ah-fans-home-RxB1iij_o4bXjPjZZ" },
{ id: "s1e7", title: "الحلقة 7 ترددات غريبة", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/s3e7-ah-fans-home-047R2xVQvb$LK3pth" },
{ id: "s1e8", title: "الحلقة 8 جزيرة الجنيات 》 الحلقة الأخيرة", duration: "مدبلجة", link: "https://videa.hu/videok/film-animacio/ah-s3e8ends3-fans-home-TJKkRzp!mHb6TwLTo" },
        ]
      },
    ];

    // Render seasons slider buttons
    const seasonsSlider = document.getElementById('seasonsSlider');
    const episodesList = document.getElementById('episodesList');
    let selectedSeasonIndex = 0;

    function renderSeasonsSlider() {
      seasonsSlider.innerHTML = '';
      seasonsData.forEach((season, index) => {
        const btn = document.createElement('button');
        btn.type = 'button';
        btn.className = 'px-4 py-2 rounded-md border border-gray-600 text-gray-300 hover:border-orange-500 hover:text-orange-500 focus:outline-none focus:ring-2 focus:ring-orange-500 whitespace-nowrap';
        btn.textContent = `الموسم ${season.seasonNumber}`;
        btn.setAttribute('aria-pressed', index === selectedSeasonIndex ? 'true' : 'false');
        if (index === selectedSeasonIndex) {
          btn.classList.add('bg-orange-600', 'border-orange-500', 'text-white');
        }
        btn.addEventListener('click', () => {
          selectedSeasonIndex = index;
          updateSeasonsSlider();
          renderEpisodes();
        });
        seasonsSlider.appendChild(btn);
      });
    }

    function updateSeasonsSlider() {
      Array.from(seasonsSlider.children).forEach((btn, idx) => {
        if (idx === selectedSeasonIndex) {
          btn.classList.add('bg-orange-600', 'border-orange-500', 'text-white');
          btn.setAttribute('aria-pressed', 'true');
          btn.scrollIntoView({behavior: 'smooth', inline: 'center'});
        } else {
          btn.classList.remove('bg-orange-600', 'border-orange-500', 'text-white');
          btn.setAttribute('aria-pressed', 'false');
        }
      });
    }

    // Render episodes for selected season
    function renderEpisodes() {
      episodesList.innerHTML = '';
      const season = seasonsData[selectedSeasonIndex];
      season.episodes.forEach(ep => {
        const li = document.createElement('li');
        li.className = 'flex justify-between items-center p-3 rounded-md bg-gray-800 hover:bg-gray-700 cursor-pointer focus:outline-none focus:ring-2 focus:ring-orange-500';
        li.setAttribute('tabindex', '0');
        li.setAttribute('role', 'link');
        li.setAttribute('aria-label', `${ep.title} مدة ${ep.duration}`);

        const titleSpan = document.createElement('span');
        titleSpan.textContent = ep.title;

        const durationSpan = document.createElement('span');
        durationSpan.className = 'text-gray-400 text-sm';
        durationSpan.textContent = ep.duration;

        li.appendChild(titleSpan);
        li.appendChild(durationSpan);

        li.addEventListener('click', () => {
          window.location.href = ep.link;
        });
        li.addEventListener('keypress', (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            li.click();
          }
        });

        episodesList.appendChild(li);
      });
    }

    // Comments system code (from user, adapted for Tailwind and RTL)
    function anonComment_uid() {
      let uid = localStorage.getItem("anon_comment_uid");
      if (!uid) {
        uid = Date.now() + Math.random().toString(36).substring(2);
        localStorage.setItem("anon_comment_uid", uid);
      }
      return uid;
    }

    function anonComment_formatLikes(num) {
      if (num >= 1000000) return (num / 1000000).toFixed(1) + "m";
      if (num >= 1000) return (num / 1000).toFixed(1) + "k";
      return num;
    }

    function anonComment_submit() {
      const txt = document.getElementById("anonComment_input").value.trim();
      const country = document.getElementById("anonComment_country").value;
      const spoiler = document.getElementById("anonComment_spoiler").checked;

      if (!txt) return;

      localStorage.setItem("anon_comment_country", country);
      document.getElementById("anonComment_country_container").style.display = "none";

      db.collection("comments").doc(episodeKey).collection("items").add({
        user: "مستخدم مجهول",
        country,
        comment: txt,
        timestamp: Date.now(),
        likes: 0,
        likedBy: [],
        owner: anonComment_uid(),
        spoiler
      }).then(() => {
        document.getElementById("anonComment_input").value = "";
        document.getElementById("anonComment_spoiler").checked = false;
      });
    }

    function anonComment_timeAgo(ts) {
      const diff = (Date.now() - ts) / 1000;
      if (diff < 60) return `منذ ${Math.floor(diff)} ثانية`;
      if (diff < 3600) return `منذ ${Math.floor(diff/60)} دقيقة`;
      if (diff < 86400) return `منذ ${Math.floor(diff/3600)} ساعة`;
      if (diff < 604800) return `منذ ${Math.floor(diff/86400)} يوم`;
      if (diff < 2592000) return `منذ ${Math.floor(diff/604800)} أسبوع`;
      return `منذ ${Math.floor(diff/2592000)} شهر`;
    }

    function anonComment_like(id) {
      const uid = anonComment_uid();
      const ref = db.collection("comments").doc(episodeKey).collection("items").doc(id);
      ref.get().then(doc => {
        const d = doc.data();
        const liked = d.likedBy.includes(uid);
        ref.update({
          likes: d.likes + (liked ? -1 : 1),
          likedBy: liked ? d.likedBy.filter(u => u !== uid) : [...d.likedBy, uid]
        });
      });
    }

    function anonComment_delete(id) {
      if (confirm("هل أنت متأكد من حذف التعليق؟")) {
        db.collection("comments").doc(episodeKey).collection("items").doc(id).delete();
      }
    }

    function anonComment_edit(id, oldComment) {
      const newText = prompt("تعديل التعليق:", oldComment);
      if (newText && newText.trim() !== "") {
        db.collection("comments").doc(episodeKey).collection("items").doc(id).update({
          comment: newText.trim()
        });
      }
    }

    function anonComment_render() {
      const ul = document.getElementById("anonComment_list");
      const uid = anonComment_uid();

      db.collection("comments").doc(episodeKey).collection("items")
        .orderBy("likes", "desc")
        .onSnapshot(snap => {
          ul.innerHTML = "";
          snap.forEach(doc => {
            const d = doc.data();
            const hasLiked = (d.likedBy || []).includes(uid);
            const isOwner = d.owner === uid;

            const li = document.createElement("li");
            li.className = "bg-gray-800 p-3 rounded-md";

            let commentHTML = `<p id='comment-text-${doc.id}' class="whitespace-pre-wrap">${d.comment}</p>`;
            if (d.spoiler) {
              commentHTML = `<div class='spoiler-warning bg-gray-700 p-2 rounded-md text-orange-400 font-bold mb-2' onclick='this.nextElementSibling.style.display="block";this.remove();' tabindex="0" role="button" aria-label="هذا التعليق يحتوي على حرق أحداث، انقر هنا لعرض التعليق">هذا التعليق يحتوي على حرق أحداث، انقر هنا لعرض التعليق</div>
              <p style='display:none;color:#ff6f61;font-weight:bold;' class="whitespace-pre-wrap">${d.comment}</p>`;
            }

            li.innerHTML = `
              <strong class="text-orange-500 text-lg">مستخدم مجهول</strong><br>
              <small class="text-gray-400">من دولة ${d.country}</small>
              ${commentHTML}
              <div class="flex justify-between items-center mt-2">
                <span class="text-gray-400 text-sm">${anonComment_timeAgo(d.timestamp)}</span>
                <div class="flex items-center space-x-2 rtl:space-x-reverse">
                  <button onclick="anonComment_like('${doc.id}')" aria-label="إعجاب بالتعليق" class="text-sm focus:outline-none" style="color:${hasLiked ? 'red' : 'white'};">&#10084; ${anonComment_formatLikes(d.likes || 0)}</button>
                  ${isOwner ? `
                    <button onclick="anonComment_edit('${doc.id}', \`${d.comment.replace(/`/g, "\\`")}\`)" aria-label="تعديل التعليق" class="text-sm text-gray-300 hover:text-orange-500 focus:outline-none">تعديل</button>
                    <button onclick="anonComment_delete('${doc.id}')" aria-label="حذف التعليق" class="text-sm text-gray-300 hover:text-orange-500 focus:outline-none">حذف</button>
                  ` : ""}
                </div>
              </div>
            `;
            ul.appendChild(li);
          });
        });
    }

    window.onload = function() {
      renderSeasonsSlider();
      renderEpisodes();
      anonComment_render();

      const storedCountry = localStorage.getItem("anon_comment_country");
      if (storedCountry) {
        document.getElementById("anonComment_country_container").style.display = "none";
      }
    };
  </script>
 </body>
</html>
